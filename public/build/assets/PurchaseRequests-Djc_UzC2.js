import{r,m as d,j as t,$ as u}from"./app-93n4-YE1.js";import{T as p}from"./Tooltip-BDMbMjY5.js";import{A as h}from"./ApproverLayout-CJpNhpE3.js";import"./Dropdown--SqrWfdR.js";import"./transition-B8_0YiEE.js";import"./toaster-CR_CLjT4.js";import"./index-BYPC565r.js";import"./index-DEGu_kMU.js";import"./index-C6Troi14.js";import"./XMarkIcon-BajPl_Ya.js";import"./ClipboardDocumentIcon-rUgeVu8g.js";import"./clipboard-check-BUpBKaMS.js";import"./circle-check-big-CDYAS76j.js";import"./file-text-BWCkVFPU.js";import"./BellAlertIcon-DQ7YZFl9.js";function $({purchaseRequests:s,filters:a={}}){const[o,n]=r.useState(a.prNumber||""),[l,c]=r.useState(a.focalPerson||""),[i,m]=r.useState(a.division||"");return r.useEffect(()=>{const e=setTimeout(()=>{d.get(route("bac_approver.purchase_requests"),{prNumber:o,focalPerson:l,division:i},{preserveState:!0,preserveScroll:!0,replace:!0})},400);return()=>clearTimeout(e)},[o,l,i]),t.jsxs(h,{header:"Schools Division Office - Ilagan | Purchase Requests",children:[t.jsx(u,{title:"Purchase Requests"}),t.jsxs("div",{className:"bg-white rounded-lg p-6 shadow space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Purchase Requests"})}),t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("input",{type:"text",value:o,onChange:e=>n(e.target.value),placeholder:"Search PR Number...",className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-60"}),t.jsx("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search Focal Person...",className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-60"}),t.jsxs("select",{value:i,onChange:e=>m(e.target.value),className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-44",children:[t.jsx("option",{value:"",children:"All Divisions"}),t.jsx("option",{value:"1",children:"SGOD"}),t.jsx("option",{value:"2",children:"OSDS"}),t.jsx("option",{value:"3",children:"CID"})]})]})}),s.data.length===0?t.jsx("p",{className:"text-center text-gray-500 py-12 text-lg font-medium",children:"No Purchase Requests found."}):t.jsxs("div",{className:"overflow-x-auto rounded-md border border-gray-200 shadow-sm bg-white",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700",children:t.jsx("tr",{children:["PR Number","Focal Person","Division","Requested By","Status","Items Summary"].map(e=>t.jsx("th",{className:"px-6 py-3 text-center font-semibold uppercase tracking-wider text-xs",children:e},e))})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:s.data.map(e=>t.jsxs("tr",{className:"text-center hover:bg-indigo-50 transition",children:[t.jsx("td",{className:"px-6 py-4 text-gray-800",children:t.jsx(p,{to:route("bac_approver.show_details",e.id),tooltip:"View PR details",className:"hover:underline focus:underline",children:e.pr_number})}),t.jsx("td",{className:"px-6 py-4 text-gray-800",children:[e.focal_person.firstname,e.focal_person.middlename,e.focal_person.lastname].filter(Boolean).join(" ")}),t.jsx("td",{className:"px-6 py-4 text-gray-800",children:e.division.division}),t.jsx("td",{className:"px-6 py-4 text-gray-700",children:e.requested_by}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${e.status.toLowerCase()==="approved"?"bg-green-100 text-green-800":e.status.toLowerCase()==="pending"?"bg-yellow-100 text-yellow-800":e.status.toLowerCase()==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status})}),t.jsx("td",{colSpan:6,className:"px-6 py-4 text-gray-700 italic text-left",children:e.details.length>0?e.details[0].item+(e.details.length>1?` and ${e.details.length-1} more...`:""):"No items"})]},e.id))})]}),s.links.length>10&&t.jsx("div",{className:"flex justify-center items-center gap-2 my-6 flex-wrap",children:s.links.map((e,x)=>t.jsx("button",{disabled:!e.url,onClick:()=>e.url&&d.visit(e.url,{preserveScroll:!0,preserveState:!0}),className:`px-4 py-2 text-sm rounded-md border transition ${e.active?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 hover:bg-gray-100 border-gray-300"} ${!e.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:e.label}},x))})]})]})]})}export{$ as default};
