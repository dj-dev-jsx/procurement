import{v as b,r as v,j as e,$ as f,Y as w}from"./app-93n4-YE1.js";import{I}from"./IssuanceTabs-DJaBiPKc.js";import{S}from"./SupplyOfficerLayout-CIJBK7rX.js";import"./Dropdown--SqrWfdR.js";import"./transition-B8_0YiEE.js";import"./toaster-CR_CLjT4.js";import"./index-BYPC565r.js";import"./index-DEGu_kMU.js";import"./index-C6Troi14.js";import"./XMarkIcon-BajPl_Ya.js";import"./clipboard-check-BUpBKaMS.js";function $({icsRecords:s,user:_,filters:a}){var i,m;const{data:n,setData:r,get:g}=b({search:(a==null?void 0:a.search)??"",month:(a==null?void 0:a.month)??"",year:(a==null?void 0:a.year)??new Date().getFullYear()});return v.useEffect(()=>{const t=setTimeout(()=>{g(route("supply_officer.ics_issuance_high"),{preserveState:!0,replace:!0,data:n})},500);return()=>clearTimeout(t)},[n.search,n.month,n.year]),e.jsxs(S,{header:"Schools Divisions Office - Ilagan | Inventory Custodian Slip (ICS) - HIGH",children:[e.jsx(f,{title:"ICS - HIGH"}),e.jsx(I,{}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Inventory Custodian Slip (ICS) - HIGH VALUE"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm shadow",children:"Monthly Report"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm shadow",children:"Export PDF"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"month-filter",className:"text-sm font-medium",children:"Month:"}),e.jsxs("select",{id:"month-filter",className:"border border-gray-300 rounded-md px-2 py-1 text-sm shadow-sm",value:n.month,onChange:t=>r("month",t.target.value),children:[e.jsx("option",{value:"",children:"All"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((t,l)=>e.jsx("option",{value:l+1,children:t},l))]}),e.jsx("label",{htmlFor:"year-filter",className:"text-sm font-medium ml-4",children:"Year:"}),e.jsx("input",{id:"year-filter",type:"number",className:"border border-gray-300 rounded-md px-2 py-1 w-24 text-sm shadow-sm",value:n.year,onChange:t=>r("year",t.target.value)})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Search ICS number, item...",className:"border border-gray-300 rounded-md px-3 py-2 w-full md:w-64 text-sm shadow-sm",value:n.search,onChange:t=>r("search",t.target.value)})})]}),e.jsx("div",{className:"overflow-x-auto mt-4",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm text-left text-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 text-xs font-semibold uppercase tracking-wider text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"#"}),e.jsx("th",{className:"px-4 py-3",children:"ICS No."}),e.jsx("th",{className:"px-4 py-3",children:"Division"}),e.jsx("th",{className:"px-4 py-3",children:"Received By"}),e.jsx("th",{className:"px-4 py-3",children:"Item Description"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Quantity"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Unit Cost"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Total Cost"}),e.jsx("th",{className:"px-4 py-3",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:((i=s==null?void 0:s.data)==null?void 0:i.length)>0?s.data.map((t,l)=>{var x,d,c,h,o,p,u,y,j;const N=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}):"—";return console.log(t),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:l+1}),e.jsx("td",{className:"px-4 py-2",children:t.ics_number}),e.jsx("td",{className:"px-4 py-2",children:((h=(c=(d=(x=t.po)==null?void 0:x.rfq)==null?void 0:d.purchase_request)==null?void 0:c.division)==null?void 0:h.division)??"N/A"}),e.jsxs("td",{className:"px-4 py-2",children:[(o=t.received_by)==null?void 0:o.firstname," ",(p=t.received_by)==null?void 0:p.lastname]}),e.jsx("td",{className:"px-4 py-2",children:(u=t.inventory_item)==null?void 0:u.item_desc}),e.jsx("td",{className:"px-4 py-2",children:t.quantity}),e.jsxs("td",{className:"px-4 py-2",children:["₱",Number(((y=t.inventory_item)==null?void 0:y.unit_cost)??0).toFixed(2)]}),e.jsxs("td",{className:"px-4 py-2",children:["₱",(Number(((j=t.inventory_item)==null?void 0:j.unit_cost)??0)*t.quantity).toFixed(2)]}),e.jsx("td",{className:"px-4 py-2",children:N}),e.jsxs("td",{className:"px-4 py-2 text-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:underline",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:underline",children:"Copy"}),e.jsx("button",{className:"text-red-600 hover:underline",children:"Delete"})]})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"text-center",children:"No RIS records found"})})})]})}),((m=s==null?void 0:s.links)==null?void 0:m.length)>3&&e.jsx("nav",{className:"mt-4 flex justify-center items-center space-x-2",children:s.links.map((t,l)=>e.jsx(w,{href:t.url||"#",className:`
                  px-3 py-1 text-sm rounded-md
                  ${t.active?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}
                  ${!t.url&&"opacity-50 cursor-not-allowed"}
                `,dangerouslySetInnerHTML:{__html:t.label}},l))})]})]})}export{$ as default};
