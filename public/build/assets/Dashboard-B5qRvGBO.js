import{r as l,q as Ae,j as i,$ as Ne,Y as Ie}from"./app-93n4-YE1.js";import{R as we}from"./RequesterLayout-Cbv_OArf.js";import{C as _,c as K}from"./card-DpvrKIse.js";import{F as Ee}from"./file-plus-2-B58za7JO.js";import{C as De,H as Oe}from"./hourglass-Djn3uIFx.js";import{C as Ce}from"./circle-check-DncXL_LL.js";import{C as Se}from"./clipboard-list-D3u0Ai_4.js";import{ab as te,H as ae,n as re,x as ke,ac as Le,c as W,B as k,q as F,N as V,V as ne,Q as ie,U as se,W as Re,_ as Te,ad as _e,Z as q,r as le,u as oe,d as Ke,e as We,f as Be,g as $e,j as ce,k as Fe,ae as Ve,l as Ge,G as ze,af as de,s as Xe,o as Ye,p as ue,ag as M,E as He,J as qe,F as E,ah as Me,L as Ue,a9 as Je,aa as Qe,R as U,C as Ze,X as et,Y as tt,T as J,P as at,a as rt,b as nt}from"./PieChart-BSGFulTz.js";import{g as G}from"./index-C6Troi14.js";import"./Dropdown--SqrWfdR.js";import"./transition-B8_0YiEE.js";import"./toaster-CR_CLjT4.js";import"./index-BYPC565r.js";import"./index-DEGu_kMU.js";import"./XMarkIcon-BajPl_Ya.js";import"./BellAlertIcon-DQ7YZFl9.js";import"./with-selector-tKzTWov6.js";import"./index-D_Rrkv4X.js";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},B.apply(null,arguments)}var pe=e=>{var{cx:t,cy:a,r,className:n}=e,c=G("recharts-dot",n);return t===+t&&a===+a&&r===+r?l.createElement("circle",B({},ae(e),te(e),{className:c,cx:t,cy:a,r})):null};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Q(Object(a),!0).forEach(function(r){it(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function it(e,t,a){return(t=st(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function st(e){var t=lt(e,"string");return typeof t=="symbol"?t:t+""}function lt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ot=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:c}=e;if(n===!1||t.x==null||t.y==null)return null;var s=Z(Z({index:a,dataKey:c,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},k(n,!1)),te(n)),o;return l.isValidElement(n)?o=l.cloneElement(n,s):typeof n=="function"?o=n(s):o=l.createElement(pe,s),l.createElement(F,{className:"recharts-active-dot"},o)};function ct(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,c=re(ke),s=Le();if(t==null||s==null)return null;var o=t.find(d=>s.includes(d.payload));return W(o)?null:ot({point:o,childIndex:Number(c),mainColor:a,dataKey:n,activeDot:r})}var me=(e,t,a,r)=>ie(e,"xAxis",t,r),he=(e,t,a,r)=>se(e,"xAxis",t,r),fe=(e,t,a,r)=>ie(e,"yAxis",a,r),ve=(e,t,a,r)=>se(e,"yAxis",a,r),dt=V([ne,me,fe,he,ve],(e,t,a,r,n)=>_e(e,"xAxis")?q(t,r,!1):q(a,n,!1)),ut=(e,t,a,r,n)=>n;function pt(e){return e.type==="line"}var mt=V([Te,ut],(e,t)=>e.filter(pt).find(a=>a.id===t)),ht=V([ne,me,fe,he,ve,mt,dt,Re],(e,t,a,r,n,c,s,o)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:h}=o;if(!(c==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||s==null)){var{dataKey:u,data:m}=c,f;if(m!=null&&m.length>0?f=m:f=d==null?void 0:d.slice(p,h+1),f!=null)return Tt({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:u,bandSize:s,displayedData:f})}}),ft=["id"],vt=["type","layout","connectNulls","needClip"],xt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(r){yt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yt(e,t,a){return(t=gt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gt(e){var t=bt(e,"string");return typeof t=="symbol"?t:t+""}function bt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z(e,t){if(e==null)return{};var a,r,n=Pt(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Pt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},I.apply(null,arguments)}var jt=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:c}=e;return[{inactive:c,dataKey:t,type:n,color:r,value:ce(a,t),payload:e}]};function At(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:c,name:s,hide:o,unit:d}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:c,dataKey:t,nameKey:void 0,name:ce(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:d}}}var xe=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Nt(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var It=(e,t,a)=>{var r=a.reduce((u,m)=>u+m);if(!r)return xe(t,e);for(var n=Math.floor(e/r),c=e%r,s=t-e,o=[],d=0,p=0;d<a.length;p+=a[d],++d)if(p+a[d]>c){o=[...a.slice(0,d),c-p];break}var h=o.length%2===0?[0,s]:[s];return[...Nt(a,n),...o,...h].map(u=>"".concat(u,"px")).join(", ")};function wt(e,t){var a;if(l.isValidElement(e))a=l.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=G("recharts-line-dot",typeof e!="boolean"?e.className:"");a=l.createElement(pe,I({},t,{className:r}))}return a}function Et(e,t){return e==null?!1:t?!0:e.length===1}function Dt(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:c,needClip:s}=r;if(!Et(a,n))return null;var{id:o}=r,d=z(r,ft),p=de(n),h=ae(d),u=k(n,!0),m=a.map((x,v)=>{var P=b(b(b({key:"dot-".concat(v),r:3},h),u),{},{index:v,cx:x.x,cy:x.y,dataKey:c,value:x.value,payload:x.payload,points:a});return wt(n,P)}),f={clipPath:s?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return l.createElement(F,I({className:"recharts-line-dots",key:"dots"},f),m)}function $(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:c,showLabels:s}=e,{type:o,layout:d,connectNulls:p,needClip:h}=c,u=z(c,vt),m=b(b({},k(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:d,connectNulls:p,strokeDasharray:n??c.strokeDasharray});return l.createElement(l.Fragment,null,(r==null?void 0:r.length)>1&&l.createElement(Me,I({},m,{pathRef:a})),l.createElement(Dt,{points:r,clipPathId:t,props:c}),s&&Ue.renderCallByParent(c,r))}function Ot(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ct(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:c}=e,{points:s,strokeDasharray:o,isAnimationActive:d,animationBegin:p,animationDuration:h,animationEasing:u,animateNewValues:m,width:f,height:x,onAnimationEnd:v,onAnimationStart:P}=a,A=n.current,w=He(a,"recharts-line-"),[y,D]=l.useState(!1),O=l.useCallback(()=>{typeof v=="function"&&v(),D(!1)},[v]),L=l.useCallback(()=>{typeof P=="function"&&P(),D(!0)},[P]),N=Ot(r.current),C=c.current;return l.createElement(qe,{begin:p,duration:h,isActive:d,easing:u,onAnimationEnd:O,onAnimationStart:L,key:w},j=>{var R=E(C,N+C,j),T=Math.min(R,N),S;if(o){var be="".concat(o).split(/[,\s]+/gim).map(g=>parseFloat(g));S=It(T,N,be)}else S=xe(N,T);if(A){var Pe=A.length/s.length,X=j===1?s:s.map((g,je)=>{var Y=Math.floor(je*Pe);if(A[Y]){var H=A[Y];return b(b({},g),{},{x:E(H.x,g.x,j),y:E(H.y,g.y,j)})}return m?b(b({},g),{},{x:E(f*2,g.x,j),y:E(x/2,g.y,j)}):b(b({},g),{},{x:g.x,y:g.y})});return n.current=X,l.createElement($,{props:a,points:X,clipPathId:t,pathRef:r,showLabels:!y,strokeDasharray:S})}return j>0&&N>0&&(n.current=s,c.current=T),l.createElement($,{props:a,points:s,clipPathId:t,pathRef:r,showLabels:!y,strokeDasharray:S})})}function St(e){var{clipPathId:t,props:a}=e,{points:r,isAnimationActive:n}=a,c=l.useRef(null),s=l.useRef(0),o=l.useRef(null),d=c.current;return n&&r&&r.length&&d!==r?l.createElement(Ct,{props:a,clipPathId:t,previousPointsRef:c,longestAnimatedLengthRef:s,pathRef:o}):l.createElement($,{props:a,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var kt=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ue(e.payload,t)});class Lt extends l.Component{render(){var t,{hide:a,dot:r,points:n,className:c,xAxisId:s,yAxisId:o,top:d,left:p,width:h,height:u,id:m,needClip:f}=this.props;if(a)return null;var x=G("recharts-line",c),v=m,{r:P=3,strokeWidth:A=2}=(t=k(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=de(r),y=P*2+A;return l.createElement(l.Fragment,null,l.createElement(F,{className:x},f&&l.createElement("defs",null,l.createElement(Xe,{clipPathId:v,xAxisId:s,yAxisId:o}),!w&&l.createElement("clipPath",{id:"clipPath-dots-".concat(v)},l.createElement("rect",{x:p-y/2,y:d-y/2,width:h+y,height:u+y}))),l.createElement(St,{props:this.props,clipPathId:v}),l.createElement(Ye,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:kt,errorBarOffset:0},this.props.children)),l.createElement(ct,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ye={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ze.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Rt(e){var t=le(e,ye),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:c,animationEasing:s,connectNulls:o,dot:d,hide:p,isAnimationActive:h,label:u,legendType:m,xAxisId:f,yAxisId:x,id:v}=t,P=z(t,xt),{needClip:A}=Fe(f,x),w=Ve(),y=Ge(),D=oe(),O=re(R=>ht(R,f,x,D,v));if(y!=="horizontal"&&y!=="vertical"||O==null||w==null)return null;var{height:L,width:N,x:C,y:j}=w;return l.createElement(Lt,I({},P,{id:v,connectNulls:o,dot:d,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:c,animationEasing:s,isAnimationActive:h,hide:p,label:u,legendType:m,xAxisId:f,yAxisId:x,points:O,layout:y,height:L,width:N,left:C,top:j,needClip:A}))}function Tt(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:c,dataKey:s,bandSize:o,displayedData:d}=e;return d.map((p,h)=>{var u=ue(p,s);if(t==="horizontal"){var m=M({axis:a,ticks:n,bandSize:o,entry:p,index:h}),f=W(u)?null:r.scale(u);return{x:m,y:f,value:u,payload:p}}var x=W(u)?null:a.scale(u),v=M({axis:r,ticks:c,bandSize:o,entry:p,index:h});return x==null||v==null?null:{x,y:v,value:u,payload:p}}).filter(Boolean)}function ge(e){var t=le(e,ye),a=oe();return l.createElement(Ke,{id:t.id,type:"line"},r=>l.createElement(l.Fragment,null,l.createElement(We,{legendPayload:jt(t)}),l.createElement(Be,{fn:At,args:t}),l.createElement($e,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),l.createElement(Rt,I({},t,{id:r}))))}ge.displayName="Line";var _t=["axis"],Kt=l.forwardRef((e,t)=>l.createElement(Je,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_t,tooltipPayloadSearcher:Qe,categoricalChartProps:e,ref:t}));function aa({stats:e,trendData:t,statusData:a,recentRequests:r}){const n={ClipboardList:Se,CheckCircle2:Ce,Hourglass:Oe,XCircle:De},{auth:c}=Ae().props;return i.jsxs(we,{header:"Schools Division Office - Ilagan | Dashboard",children:[i.jsx(Ne,{title:"Dashboard"}),i.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mb-6",children:[i.jsxs("h1",{className:"text-2xl font-semibold text-gray-800",children:["Welcome back, ",c.user.firstname,"!"]}),i.jsx("p",{className:"text-gray-600",children:"Here’s an overview of your purchase requests."})]}),i.jsx("div",{className:"mb-8",children:i.jsxs(Ie,{href:route("requester.create"),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-2xl shadow hover:bg-blue-700",children:[i.jsx(Ee,{className:"w-5 h-5"}),"Create New Purchase Request"]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((s,o)=>{const d=n[s.icon];return i.jsx(_,{className:"rounded-2xl shadow hover:shadow-md transition",children:i.jsxs(K,{className:"flex items-center gap-4 p-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${s.color}`,children:i.jsx(d,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:s.label}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:s.value})]})]})},o)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsx(_,{className:"rounded-2xl shadow",children:i.jsxs(K,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Requests Over Time"}),i.jsx(U,{width:"100%",height:250,children:i.jsxs(Kt,{data:t,children:[i.jsx(Ze,{strokeDasharray:"3 3"}),i.jsx(et,{dataKey:"month"}),i.jsx(tt,{}),i.jsx(J,{}),i.jsx(ge,{type:"monotone",dataKey:"requests",stroke:"#2563eb",strokeWidth:3,dot:{r:5},label:!0})]})})]})}),i.jsx(_,{className:"rounded-2xl shadow",children:i.jsxs(K,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Status Breakdown"}),i.jsx(U,{width:"100%",height:250,children:i.jsxs(at,{children:[i.jsx(rt,{data:a,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",label:({name:s,value:o})=>`${s}: ${o}`,children:a.map((s,o)=>i.jsx(nt,{fill:s.color},`cell-${o}`))}),i.jsx(J,{})]})}),i.jsx("div",{className:"flex justify-center gap-6 mt-4",children:a.map((s,o)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),i.jsx("span",{className:"text-sm text-gray-600",children:s.name})]},o))})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Requests"}),i.jsxs("table",{className:"w-full text-sm text-left text-gray-600",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"px-4 py-2",children:"PR ID"}),i.jsx("th",{className:"px-4 py-2",children:"Item"}),i.jsx("th",{className:"px-4 py-2",children:"Status"}),i.jsx("th",{className:"px-4 py-2",children:"Date"})]})}),i.jsx("tbody",{children:r.map((s,o)=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 font-medium text-gray-800",children:s.pr_number}),i.jsx("td",{className:"px-4 py-2",children:s.items}),i.jsx("td",{className:"px-4 py-2",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                                            ${s.status==="Approved"?"bg-green-100 text-green-600":s.status==="Pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                                        `,children:s.status})}),i.jsx("td",{className:"px-4 py-2",children:s.date})]},o))})]})]})]})}export{aa as default};
