import{r as a,q as j,j as e,Y as u,a as N}from"./app-93n4-YE1.js";import{l as p,F as b,T as k}from"./toaster-CR_CLjT4.js";import{N as c,D as i}from"./Dropdown--SqrWfdR.js";import{F as _,a as M}from"./XMarkIcon-BajPl_Ya.js";import{C as R}from"./clipboard-check-BUpBKaMS.js";import{c as g}from"./index-DEGu_kMU.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],C=g("boxes",E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Z=g("package-check",O);function L({title:r,titleId:s,...n},t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),a.createElement("path",{fillRule:"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z",clipRule:"evenodd"}))}const A=a.forwardRef(L);function S({title:r,titleId:s,...n},t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const F=a.forwardRef(S);function I({title:r,titleId:s,...n},t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),a.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const P=a.forwardRef(I);function $({title:r,titleId:s,...n},t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const B=a.forwardRef($);function D({isSidebarCollapsed:r}){const[s,n]=a.useState(!1);return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{onClick:()=>n(!s),className:"flex items-center justify-between w-full px-2 py-2 hover:bg-indigo-600 hover:text-white rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(P,{className:"w-5 h-5 text-gray-300 text-sm"}),!r&&e.jsx("span",{className:"text-gray-200 text-sm",children:"Purchase Orders"})]}),!r&&e.jsx(F,{className:`w-5 h-5 text-gray-300 transition-transform ${s?"rotate-180":""}`})]}),s&&e.jsx("nav",{className:"mt-2 pl-10 space-y-1",children:[{label:"Generate PO",routeName:"supply_officer.purchase_orders"},{label:"Manage POs",routeName:"supply_officer.purchase_orders_table"}].map(t=>e.jsx(c,{href:t.routeName?route(t.routeName):"#",active:t.routeName?route().current(t.routeName):!1,className:"block text-sm text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:t.label},t.label))})]})}function G({header:r,children:s}){const{user:n}=j().props.auth,[t,y]=a.useState(!1),[w,x]=a.useState(!1),[d,v]=a.useState([]),h=a.useRef(null);a.useEffect(()=>{const l=async()=>{try{const m=await N.get("/notifications");v(m.data)}catch(m){console.error("Notification fetch error:",m)}};l();const o=setInterval(l,1e4);return()=>clearInterval(o)},[]),a.useEffect(()=>{function l(o){h.current&&!h.current.contains(o.target)&&x(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const f=d.filter(l=>!l.read).length;return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[e.jsxs("div",{className:"md:hidden bg-gray-900 text-white flex items-center justify-between px-4 py-3 shadow-md",children:[e.jsx(u,{href:"/",children:e.jsx("img",{src:p,alt:"Logo",className:"h-10 w-auto"})}),e.jsx("button",{onClick:()=>y(!t),children:t?e.jsx(_,{className:"h-6 w-6"}):e.jsx(M,{className:"h-6 w-6"})})]}),e.jsx("aside",{className:`md:block ${t?"block":"hidden"} md:w-64 w-full bg-gray-900 text-white sticky top-0 h-screen`,children:e.jsxs("div",{className:"p-6",children:[e.jsx(u,{href:"/",children:e.jsx("img",{src:p,alt:"DepEd Logo",className:"h-20 mx-auto mb-4"})}),e.jsx("p",{className:"text-center text-xs text-gray-400 font-mono mb-4",children:"Supply & Property Office"}),e.jsxs("nav",{className:"flex flex-col gap-2",children:[e.jsxs(c,{href:route("supply_officer.dashboard"),active:route().current("supply_officer.dashboard"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(b,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Dashboard"})]}),e.jsx(D,{isSidebarCollapsed:!1}),e.jsxs(c,{href:route("supply_officer.iar_table"),active:route().current("supply_officer.iar_table"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(R,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white text-sm",children:"Inspection and Acceptance Reports"})]}),e.jsxs(c,{href:route("supply_officer.inventory"),active:route().current("supply_officer.inventory"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(C,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Inventory"})]}),e.jsxs(c,{href:route("supply_officer.ris_issuance"),active:["supply_officer.ris_issuance","supply_officer.ics_issuance_low","supply_officer.ics_issuance_high","supply_officer.par_issuance"].some(l=>route().current(l)),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(Z,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Item Issuance"})]}),e.jsxs(c,{className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(B,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Suppliers"})]})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"bg-white shadow px-6 py-4 flex justify-between items-center sticky top-0 z-30",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:r||"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"e-Procurement & Inventory Management System"})]}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>x(l=>!l),className:"relative focus:outline-none",children:[e.jsx(A,{className:"w-6 h-6 text-gray-600 hover:text-gray-800"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5",children:f})]}),w&&e.jsxs("div",{ref:h,className:"absolute right-0 mt-10 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsx("div",{className:"p-3 font-medium text-gray-700 border-b",children:"Notifications"}),d.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No notifications."}):e.jsx("ul",{className:"max-h-60 overflow-y-auto",children:d.map(l=>{var o;return e.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 text-sm text-gray-800",children:((o=l.data)==null?void 0:o.message)||"New notification"},l.id)})})]}),e.jsxs(i,{children:[e.jsx(i.Trigger,{children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 cursor-pointer",children:[n.firstname," ",n.lastname,e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4-4-4a1 1 0 010-1.414z"})})]})}),e.jsxs(i.Content,{children:[e.jsx(i.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(i.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})]})]}),e.jsx("main",{className:"p-6 flex-1 overflow-y-auto bg-gray-300",children:s}),e.jsx(k,{})]})]})}export{C as B,Z as P,G as S};
