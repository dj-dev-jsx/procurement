import{v as h,r as b,j as e,$ as g}from"./app-93n4-YE1.js";import{A as f}from"./AdminLayout-BIeZ94su.js";import{D as j,a as v,b as w,c as y,d as N,e as C}from"./dialog-dmNlH9AS.js";import{B as d}from"./button-b6E2TuAP.js";import"./Dropdown--SqrWfdR.js";import"./transition-B8_0YiEE.js";import"./toaster-CR_CLjT4.js";import"./index-BYPC565r.js";import"./index-DEGu_kMU.js";import"./index-C6Troi14.js";import"./users-Bum_EUm8.js";import"./ClipboardDocumentIcon-rUgeVu8g.js";import"./index-CKryKcUP.js";function $({divisions:i,roles:n}){const{data:r,setData:l,post:m,processing:t,errors:a}=h({firstname:"",middlename:"",lastname:"",email:"",password:"",password_confirmation:"",position:"",division_id:"",role:""}),[c,o]=b.useState(!1),u=s=>{s.preventDefault(),o(!0)},x=()=>{m(route("admin.store_user"),{onSuccess:()=>o(!1)})};return e.jsxs(f,{header:"Add User",children:[e.jsx(g,{title:"Add User"}),e.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-md text-sm shadow-sm",children:"← Back"}),e.jsx("div",{className:"w-full mt-6 bg-white p-8 rounded-xl shadow",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"First Name",value:r.firstname,onChange:s=>l("firstname",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),a.firstname&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.firstname})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Middle Name",value:r.middlename,onChange:s=>l("middlename",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})}),e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Last Name",value:r.lastname,onChange:s=>l("lastname",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),a.lastname&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.lastname})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>l("email",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. user@email.com"}),a.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:r.password,onChange:s=>l("password",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter temporary password"}),a.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:r.password_confirmation,onChange:s=>l("password_confirmation",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Re-enter password"}),a.password_confirmation&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password_confirmation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),e.jsx("input",{type:"text",value:r.position,onChange:s=>l("position",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Procurement Officer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Division"}),e.jsxs("select",{value:r.division_id,onChange:s=>l("division_id",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Division"}),i.map(s=>e.jsx("option",{value:s.id,children:s.division},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:r.role,onChange:s=>l("role",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Role"}),n.map(s=>e.jsx("option",{value:s.name,children:s.name.replace("_"," ").replace(/\b\w/g,p=>p.toUpperCase())},s.id))]}),a.role&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.role})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded-md transition",children:t?"Saving...":"Add User"})})]})}),e.jsx(j,{open:c,onOpenChange:o,children:e.jsxs(v,{children:[e.jsxs(w,{children:[e.jsx(y,{children:"Confirm Add User"}),e.jsx(N,{children:"Are you sure you want to add this user? Please review the details before proceeding."})]}),e.jsxs(C,{children:[e.jsx(d,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(d,{onClick:x,disabled:t,children:t?"Saving...":"Confirm"})]})]})})]})}export{$ as default};
