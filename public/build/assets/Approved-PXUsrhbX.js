import{r,j as e,$ as o}from"./app-93n4-YE1.js";import{A as l}from"./ApproverLayout-CJpNhpE3.js";import"./Dropdown--SqrWfdR.js";import"./transition-B8_0YiEE.js";import"./toaster-CR_CLjT4.js";import"./index-BYPC565r.js";import"./index-DEGu_kMU.js";import"./index-C6Troi14.js";import"./XMarkIcon-BajPl_Ya.js";import"./ClipboardDocumentIcon-rUgeVu8g.js";import"./clipboard-check-BUpBKaMS.js";import"./circle-check-big-CDYAS76j.js";import"./file-text-BWCkVFPU.js";import"./BellAlertIcon-DQ7YZFl9.js";function d({title:t,titleId:s,...a},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},a),t?r.createElement("title",{id:s},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const c=r.forwardRef(d);function R({purchaseRequests:t}){return e.jsxs(l,{header:"Schools Divisions Office - Ilagan | Purchase Requests",children:[e.jsx(o,{title:"Approved Purchase Requests"}),e.jsxs("div",{className:"space-y-6 p-4 sm:p-6 lg:p-8 bg-white rounded-xl shadow",children:[e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Approved Purchase Requests"})}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("input",{type:"text",name:"prNumber",placeholder:"Filter by PR Number",className:"rounded-md border-gray-300 px-4 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),e.jsx("input",{type:"text",name:"focalPerson",placeholder:"Filter by Focal Person",className:"rounded-md border-gray-300 px-4 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),e.jsx("select",{name:"division",defaultValue:"",className:"rounded-md border-gray-300 px-8 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none",children:e.jsx("option",{value:"",children:"All Divisions"})})]}),t.length===0?e.jsx("div",{className:"py-12 text-center text-gray-500 text-lg font-medium",children:"No Purchase Request found"}):e.jsx("div",{className:"overflow-auto rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-center",children:e.jsx("tr",{children:["PR Number","Focal Person","Division","Item","Specs","Unit","Total Price","Action"].map(s=>e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:s},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100 text-center",children:t.map(s=>{var a;return e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-700 whitespace-nowrap",children:s.pr_number}),e.jsx("td",{className:"px-6 py-4 text-gray-700 whitespace-nowrap",children:`${s.focal_person.firstname} ${s.focal_person.middlename} ${s.focal_person.lastname}`}),e.jsx("td",{className:"px-6 py-4 text-gray-700 whitespace-nowrap",children:s.division.division}),e.jsxs("td",{className:"px-6 py-4 text-gray-700",children:[s.details.length>0?s.details[0].item:"—",s.details.length>1&&e.jsxs("span",{className:"text-gray-400 text-xs ml-1 italic",children:["+",s.details.length-1," more"]})]}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:s.details.length>0?s.details[0].specs:"—"}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:s.details.length>0?s.details[0].unit:"—"}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:s.details.reduce((i,n)=>i+parseFloat(n.total_item_price||0),0).toFixed(2)}),e.jsx("td",{className:"px-6 py-4",children:(a=s.rfqs)!=null&&a.pr_id?e.jsx("span",{className:"text-sm font-medium text-green-700",children:"RFQs Submitted"}):e.jsxs("a",{href:route("bac_approver.generate_rfq",s.id),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm shadow transition",children:[e.jsx(c,{className:"w-5 h-5 mr-2"}),"Generate RFQ"]})})]},s.id)})})]})})]})]})}export{R as default};
